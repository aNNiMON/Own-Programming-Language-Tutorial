name: canvas
scope: "android"
desc: "Contains functions for working with graphics on Android"
desc_ru: "Содержит функции для работы с графикой в Android"
constants:
  - name: "VertexMode"
    typeName: map
    type: 4
    value: "{TRIANGLES=0, TRIANGLE_STRIP=1, TRIANGLE_FAN=2}"
  - name: "Action"
    typeName: map
    type: 4
    value: "{DOWN=0, UP=1, MOVE=2, MULTIPLE=2, CANCEL=3, OUTSIDE=4, POINTER_DOWN=5, POINTER_UP=6, POINTER_INDEX_SHIFT=8, MASK=255, POINTER_INDEX_MASK=65280}"
  - name: "BitmapCompressFormat"
    typeName: map
    type: 4
    value: "{JPEG=0, PNG=1, WEBP=2}"
  - name: "EdgeType"
    typeName: map
    type: 4
    value: "{BW=0, AA=1}"
  - name: "Cap"
    typeName: map
    type: 4
    value: "{BUTT=0, ROUND=1, SQUARE=2}"
  - name: "Style"
    typeName: map
    type: 4
    value: "{FILL=0, STROKE=1, FILL_AND_STROKE=2}"
  - name: "BitmapConfig"
    typeName: map
    type: 4
    value: "{ALPHA_8=0, RGB_565=1, ARGB_4444=2, ARGB_8888=3}"
  - name: "Join"
    typeName: map
    type: 4
    value: "{MITER=0, ROUND=1, BEVEL=2}"
  - name: "Align"
    typeName: map
    type: 4
    value: "{LEFT=0, CENTER=1, RIGHT=2}"
  - name: "DisplayMetrics"
    typeName: map
    type: 4
    value: "{density=, densityDpi=, scaledDensity=, widthPixels=, heightPixels=, xdpi=, ydpi=}"
    since: 1.5.1
functions:
  - name: "createBitmap"
    args: "..."
    desc: |-
      `createBitmap(bitmap)` - creates a copy of the bitmap.
      
      `createBitmap(bytes)` - creates bitmap from byte array.
      
      `createBitmap(w, h)` - creates new bitmap with the given size.
      
      `createBitmap(w, h, config)` - creates new bitmap with the given size and config.
      
      `createBitmap(bytes, offset, length)` - creates bitmap from byte array starting from offset.
      
      `createBitmap(pixels, w, h, config)` - creates new bitmap from pixels array.
      
      `createBitmap(bitmap, x, y, w, h)` - creates new bitmap from the part of the `bitmap`.
      
      `createBitmap(pixels, offset, stride, w, h, config)` - creates new bitmap from pixels array starting from offset.
      
      Returns BitmapValue.
    desc_ru: |-
      `createBitmap(bitmap)` - создаёт копию изображения.
      
      `createBitmap(bytes)` - создаёт изображение из массива байт.
      
      `createBitmap(w, h)` - создаёт новое изображение с заданным размером.
      
      `createBitmap(w, h, config)` - создаёт новое изображение с заданным размером и конфигурацией.
      
      `createBitmap(bytes, offset, length)` - создаёт изображение из массива байт, начиная с offset.
      
      `createBitmap(pixels, w, h, config)` - создаёт изображение из массива пикселей.
      
      `createBitmap(bitmap, x, y, w, h)` - создаёт изображение из части другого изображения.
      
      `createBitmap(pixels, offset, stride, w, h, config)` - создаёт изображение из массива пикселей, начиная с offset.
      
      Возвращает BitmapValue.
    example: |-
      use http, canvas
      
      g = showcanvas()
      url = "http://lorempixel.com/640/480/nature"
      imageBytes = download(url)
      bitmap = createBitmap(imageBytes)
      g.drawBitmap(bitmap, 0, 0)
      repaint()
  - name: "createScaledBitmap"
    args: "srcBitmap, width, height, filter"
    desc: "scales bitmap to size and returns new BitmapValue"
    desc_ru: "возвращает BitmapValue с изменённым размером заданного изображения"
  - name: "getScreenBitmap"
    args: ""
    desc: "returns current screen as bitmap"
    desc_ru: "возвращает содержимое экрана в виде изображения"
  - name: "hidecanvas"
    args: ""
    desc: "closes canvas screen and releases resources"
    desc_ru: "закрывает экран канваса и освобождает ресурсы"
  - name: "newPath"
    args: "path = null"
    desc: "creates new PathValue"
    desc_ru: "создаёт новый PathValue"
    since: 1.5.1
  - name: "newLinearGradient"
    args: "x0, y0, x1, y1, colors|color1, positions|color2, tileMode"
    desc: "creates new shader"
    desc_ru: "создаёт новый шейдер"
    since: 1.5.1
  - name: "newRadialGradient"
    args: "cx, cy, radius, colors|color1, positions|color2, tileMode"
    desc: "creates new shader"
    desc_ru: "создаёт новый шейдер"
    since: 1.5.1
  - name: "newSweepGradient"
    args: "cx, cy, colors|color1, positions|color2"
    desc: "creates new shader"
    desc_ru: "создаёт новый шейдер"
    since: 1.5.1
  - name: "newBitmapShader"
    args: "bitmap, modeX, modeY"
    desc: "creates new bitmap shader"
    desc_ru: "создаёт новый шейдер из картинки"
    since: 1.5.1
  - name: "newComposeShader"
    args: "shader1, shader2, mode = SRC_OVER"
    desc: "creates new composition shader"
    desc_ru: "создаёт новый композитный шейдер"
    since: 1.5.1
  - name: "repaint"
    args: ""
    desc: ""
    desc_ru: ""
  - name: "setOnKeyDownEvent"
    args: ""
    desc: ""
    desc_ru: ""
  - name: "setOnKeyUpEvent"
    args: ""
    desc: ""
    desc_ru: ""
  - name: "setOnLongPressEvent"
    args: ""
    desc: ""
    desc_ru: ""
  - name: "setOnTouchEvent"
    args: ""
    desc: ""
    desc_ru: ""
  - name: "setGestureDetectorListener"
    args: "listener"
    desc: "sets gesture detector listener"
    desc_ru: "устанавливает обработчик детектора жестов"
    since: 1.5.1
  - name: "showcanvas"
    args: ""
    desc: "shows canvas screen and returns GraphicsValue"
    desc_ru: "показывает экран канваса и возвращает GraphicsValue"
    example: |-
      use canvas
      g = showcanvas()
types:
  - name: "BitmapValue"
    functions:
      - name: "compress"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "copy"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "eraseColor"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "extractAlpha"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getAllocationByteCount"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getByteCount"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getDensity"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getGraphics"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getWidth"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getHeight"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getRowBytes"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getPixel"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getPixels"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getScaledWidth"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getScaledHeight"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "hasAlpha"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "hasMipMap"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isMutable"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isPremultiplied"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isRecycled"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "prepareToDraw"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "recycle"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setPixel"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setPixels"
        args: ""
        desc: ""
        desc_ru: ""
  - name: "GraphicsValue"
    functions:
      - name: "ascent"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "breakText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "clearShadowLayer"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "clipPath"
        args: "path"
        desc: ""
        desc_ru: ""
        since: 1.5.1
      - name: "clipRect"
        args: "x, y, w, h, op = 0"
        desc: ""
        desc_ru: ""
      - name: "descent"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawARGB"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawArc"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawBitmap"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawCircle"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawColor"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawLine"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawOval"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawPath"
        args: "path"
        desc: ""
        desc_ru: ""
        since: 1.5.1
      - name: "drawPoint"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawRGB"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawRect"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawRoundRect"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "drawTextOnPath"
        args: "text, path, hOffset, vOffset"
        desc: ""
        desc_ru: ""
        since: 1.5.1
      - name: "fillCircle"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "fillOval"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "fillRect"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "fillRoundRect"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getAlpha"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getClipBounds"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getColor"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getFillPath"
        args: "src, dst"
        desc: ""
        desc_ru: ""
        since: 1.5.1
      - name: "getDensity"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getFlags"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getFontSpacing"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getHeight"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getSaveCount"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getStrokeCap"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getStrokeJoin"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getStrokeMiter"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getStrokeWidth"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getStyle"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getTextAlign"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getTextBounds"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getTextScaleX"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getTextSize"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getTextSkewX"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getTextWidths"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getTypeface"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "getWidth"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isAntiAlias"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isDither"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isFakeBoldText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isFilterBitmap"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isLinearText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isOpaque"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isStrikeThruText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isSubpixelText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "isUnderlineText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "measureText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "quickReject"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "reset"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "restore"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "restoreToCount"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "rotate"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "save"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "saveLayer"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "saveLayerAlpha"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "scale"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setAlpha"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setAntiAlias"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setBitmap"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setColor"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setDensity"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setDither"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setFakeBoldText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setFilterBitmap"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setFlags"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setLinearText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setShader"
        args: "shader"
        desc: ""
        desc_ru: ""
        since: 1.5.1
      - name: "setShadowLayer"
        args: "radius, dx, dy, shadowColor"
        desc: ""
        desc_ru: ""
      - name: "setStrikeThruText"
        args: "isEnabled"
        desc: ""
        desc_ru: ""
      - name: "setStrokeCap"
        args: "cap"
        desc: ""
        desc_ru: ""
      - name: "setStrokeJoin"
        args: "join"
        desc: ""
        desc_ru: ""
      - name: "setStrokeMiter"
        args: "miter"
        desc: ""
        desc_ru: ""
      - name: "setStrokeWidth"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setStyle"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setSubpixelText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setTextAlign"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setTextScaleX"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setTextSize"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setTextSkewX"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setTypeface"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "setUnderlineText"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "skew"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "strokeCircle"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "strokeOval"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "strokeRect"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "strokeRoundRect"
        args: ""
        desc: ""
        desc_ru: ""
      - name: "translate"
        args: ""
        desc: ""
        desc_ru: ""